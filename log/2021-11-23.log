2021-11-23 13:16:19,984 - INFO - Started server process [11055]
2021-11-23 13:16:19,985 - INFO - Waiting for application startup.
2021-11-23 13:16:19,985 - INFO - Application startup complete.
2021-11-23 13:16:19,988 - INFO - Uvicorn running on http://0.0.0.0:8004 (Press CTRL+C to quit)
2021-11-23 13:18:17,413 - ERROR - Exception in ASGI application
Traceback (most recent call last):
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/uvicorn/protocols/http/httptools_impl.py", line 398, in run_asgi
    result = await app(self.scope, self.receive, self.send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/uvicorn/middleware/proxy_headers.py", line 45, in __call__
    return await self.app(scope, receive, send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/fastapi/applications.py", line 199, in __call__
    await super().__call__(scope, receive, send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/applications.py", line 111, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 181, in __call__
    raise exc from None
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/middleware/errors.py", line 159, in __call__
    await self.app(scope, receive, _send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/exceptions.py", line 82, in __call__
    raise exc from None
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/exceptions.py", line 71, in __call__
    await self.app(scope, receive, sender)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/routing.py", line 566, in __call__
    await route.handle(scope, receive, send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/routing.py", line 227, in handle
    await self.app(scope, receive, send)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/starlette/routing.py", line 41, in app
    response = await func(request)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/fastapi/routing.py", line 201, in app
    raw_response = await run_endpoint_function(
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/fastapi/routing.py", line 148, in run_endpoint_function
    return await dependant.call(**values)
  File "/Users/huangsir/Desktop/中子数科/riskScore/app/routers/ml_router.py", line 22, in new_cust_risk_score
    res = new_cust_main(data)
  File "/Users/huangsir/Desktop/中子数科/riskScore/app/app/new_cust_ml/api.py", line 25, in new_cust_main
    res = apl.predict(appList_data)
  File "/Users/huangsir/Desktop/中子数科/riskScore/app/app/applist_ml/applist_model.py", line 114, in predict
    res_data = pd.DataFrame(self.__get_feat(data))
  File "/Users/huangsir/Desktop/中子数科/riskScore/app/app/applist_ml/applist_model.py", line 40, in __get_feat
    df['lastTime'] = pd.to_datetime(df['lastTime'])
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/pandas/core/tools/datetimes.py", line 805, in to_datetime
    values = convert_listlike(arg._values, format)
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/pandas/core/tools/datetimes.py", line 465, in _convert_listlike_datetimes
    result, tz_parsed = objects_to_datetime64ns(
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/pandas/core/arrays/datetimes.py", line 2090, in objects_to_datetime64ns
    raise e
  File "/Users/huangsir/opt/anaconda3/envs/mlvenv/lib/python3.8/site-packages/pandas/core/arrays/datetimes.py", line 2075, in objects_to_datetime64ns
    result, tz_parsed = tslib.array_to_datetime(
  File "pandas/_libs/tslib.pyx", line 364, in pandas._libs.tslib.array_to_datetime
  File "pandas/_libs/tslib.pyx", line 586, in pandas._libs.tslib.array_to_datetime
  File "pandas/_libs/tslib.pyx", line 582, in pandas._libs.tslib.array_to_datetime
  File "pandas/_libs/tslib.pyx", line 558, in pandas._libs.tslib.array_to_datetime
  File "pandas/_libs/tslibs/np_datetime.pyx", line 113, in pandas._libs.tslibs.np_datetime.check_dts_bounds
pandas._libs.tslibs.np_datetime.OutOfBoundsDatetime: Out of bounds nanosecond timestamp: 2579-04-26 22:32:41
2021-11-23 13:21:02,128 - WARNING - {'prob': 0.44682391231075635, 'msg': 'success', 'status_code': 100}
2021-11-23 13:26:14,051 - WARNING - {'prob': 0.40862226599949036, 'msg': 'success', 'status_code': 100}
2021-11-23 22:08:35,707 - INFO - Shutting down
2021-11-23 22:08:35,809 - INFO - Waiting for application shutdown.
2021-11-23 22:08:35,809 - INFO - Application shutdown complete.
2021-11-23 22:08:35,810 - INFO - Finished server process [11055]
